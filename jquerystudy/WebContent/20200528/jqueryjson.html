<!DOCTYPE html>
<!-- /WebContent/20200528/jqueryjson.html -->
<html>
<head>
<meta charset="EUC-KR">
<title>Json 연습</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
	$(function() {
		$("#jsonbtn").click(function() {
			$.ajax({
				url : "person.jsp",
				success : function(data) {
					var person = JSON.parse(data);
					$.each(person, function(index,item) {
						$("#result").append("<h3>"+item.name+":"+item.gender+":"+item.part+"</h3>");
					})
				}
			})
		})
		//append() : <table> 태그 시작 후 닫히는 태그가 없으면 자동으로 </table>추가 함
		$("#housebtn").click(function() {
			$.ajax({
				url : "house.jsp",
				success : function(data) {
					var house = JSON.parse(data);
					html = "<table border='1'><tr><th>주소</th><th>가격</th><th>정보</th></tr>";
					$.each(house.properties,function(index,item) {
						html += "<tr><td>"+item.address+"</td><td>"+item.price+"</td><td>"+item.comment+"</td></tr>";
					})
					$("#house").append(html + "</table>");
				}
			})
		})
	})
</script>
</head>
<body>
	<button id="jsonbtn">JSON 연습</button>
	<div id="result"></div>
	<button id="housebtn">HOUSE 정보</button>
	<div id="house"></div>
</body>
</html>